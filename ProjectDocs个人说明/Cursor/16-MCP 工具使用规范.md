______________________________________________________________________

## description: MCP 工具使用规范（安全、高效、可审计）

# MCP 工具使用规范

## 搜索与读取

- 语义搜索优先；精确符号用 grep；大文件按片读取；多只读操作并行化。

## 终端约定

- 始终显示 CWD；Windows 禁用分页（或 `| type`）；长任务后台；加非交互参数。

## 代码编辑

- 仅改必要文件；“最小封闭”更改；改后跑 lints 与小样本验证。

## 调用规范

- 每次操作前给出简短状态更新；完成后给出变更摘要与影响。
- 长任务使用 `is_background=true`，并在日志中记录 `trace_id/job_id`。

## 记忆

- 遵循 [11-memory-spec.mdc](mdc:.cursor/rules/11-memory-spec.mdc)：错误修复与代码修改自动记忆，脱敏存储。

## 安全

- 不输出凭据；SQL 参数化；路径白名单；`local_infile` 会话级开启。
