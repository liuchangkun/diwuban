# PLAYBOOKS 使用说明（自动化记忆与变更记录）

## 1. 触发关键词（看到即执行三步）
- 记录变更 / 更新 PLAYBOOKS / 保存记忆 / 按照 PLAYBOOKS 流程完成 / 记忆和文档都更新了吗？ / PLAYBOOKS
- 同义词：记录决策 / 记录配置变更 / 记录改进 / 记录经验教训 / 记录性能基准

## 2. 三步流程（标准动作）
1. 更新 PLAYBOOKS：在 决策记录 / 配置变更记录 / 改进与优化记录 / 经验教训 / 性能基准 中记录对应条目
1. 保存关键记忆：将重要约束/决策/路径以持久化方式保存（本地 + 云端）
1. 同步文档：将本次变更反映到相关 docs/ 中文文档（总览/计划/数据库/函数参考/测试/质量）

## 3. 条目模板
- 决策（Decision）/ 配置变更（Configuration）/ 改进（Improvement）/ 经验教训（Lesson）/ 性能基准（Benchmark）
- 参考 docs/PLAYBOOKS/索引.md 与各中文记录文件中的“记录模板”段落

## 4. 操作守则
- 真实唯一：所有事实以数据库与 scripts/sql 为准；文档必须与之同步
- 小步快跑：每次变更都要记录，不堆积
- 可回滚：每条配置变更必须附回滚方案
- 提交信息规范：在 commit message 中引用 PLAYBOOKS ID（如 DEC-20250816-010）

## 7. 知识图谱（方案A）
- 存储：docs/PLAYBOOKS/知识图谱.json
- 更新：python scripts/tools/kg_update.py
- 查询：
  - python scripts/tools/kg_query.py nodes type=Decision
  - python scripts/tools/kg_query.py edges rel=documents
  - python scripts/tools/kg_query.py neighbors id=DEC-20250819-010 hops=1
- 集成：pre-commit 仅提醒，CI 可在未来集成“知识图谱未更新”提示

- PR 模板：包含 PLAYBOOKS 链接、影响文档列表、回滚方案（CONF 必填）

## 5. 示例（节选）
- 文档中文化重构：DEC-20250816-009 / CONF-20250816-007 / IMP-20250816-006（已登记）

## 6. 命名约定
- 自 2025-08-19 起，PLAYBOOKS 目录下文件一律使用中文文件名；新增文件也请使用中文命名。

