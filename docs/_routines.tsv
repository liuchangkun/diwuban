api|delete_measurement|p_station_id bigint, p_device_id bigint, p_metric_id bigint, p_ts_raw timestamp with time zone|integer|
api|delete_measurements_by_filter|p_station_ids bigint[], p_start_ts timestamp with time zone, p_end_ts timestamp with time zone, p_device_ids bigint[] DEFAULT NULL::bigint[], p_metric_ids bigint[] DEFAULT NULL::bigint[], p_batch_size integer DEFAULT 5000|integer|
api|get_measurements|p_station_ids bigint[], p_start_ts timestamp with time zone, p_end_ts timestamp with time zone, p_device_ids bigint[] DEFAULT NULL::bigint[], p_metric_ids bigint[] DEFAULT NULL::bigint[], p_limit integer DEFAULT 1000, p_offset integer DEFAULT 0|record|
api|update_measurement_value|p_station_id bigint, p_device_id bigint, p_metric_id bigint, p_ts_raw timestamp with time zone, p_new_value numeric, p_source_hint text DEFAULT NULL::text|integer|
api|upsert_measurement|p_station_id bigint, p_device_id bigint, p_metric_id bigint, p_ts_raw timestamp with time zone, p_value numeric, p_source_hint text DEFAULT NULL::text|boolean|
api|upsert_measurements_json|p_rows jsonb|record|
monitoring|capture_pgss_snapshot||integer|
monitoring|cleanup_pgss_snapshot|retention_days integer DEFAULT 7|integer|
monitoring|ensure_active_indexes|window_days integer DEFAULT 7|integer|
monitoring|run_ab_test|p_station_id bigint, p_start_ts timestamp with time zone, p_end_ts timestamp with time zone, p_metric_ids bigint[] DEFAULT NULL::bigint[]|bigint|
public|auto_performance_tuning||text|
public|auto_space_reclaim||text|自动空间回收，识别需要VACUUM FULL的分区
public|batch_delete_old_data|p_cutoff_date timestamp with time zone, p_batch_size integer DEFAULT 10000|text|
public|check_data_consistency||record|检查数据一致性，发现重复记录和外键问题
public|check_performance_alerts||text|
public|database_health_check||record|综合数据库健康检查
public|ensure_week_partition|p_week_start date, p_modulus integer DEFAULT 16, p_schema text DEFAULT 'public'::text|void|
public|get_performance_metrics||record|获取关键性能指标
public|pg_stat_statements|showtext boolean, OUT userid oid, OUT dbid oid, OUT toplevel boolean, OUT queryid bigint, OUT query text, OUT plans bigint, OUT total_plan_time double precision, OUT min_plan_time double precision, OUT max_plan_time double precision, OUT mean_plan_time double precision, OUT stddev_plan_time double precision, OUT calls bigint, OUT total_exec_time double precision, OUT min_exec_time double precision, OUT max_exec_time double precision, OUT mean_exec_time double precision, OUT stddev_exec_time double precision, OUT rows bigint, OUT shared_blks_hit bigint, OUT shared_blks_read bigint, OUT shared_blks_dirtied bigint, OUT shared_blks_written bigint, OUT local_blks_hit bigint, OUT local_blks_read bigint, OUT local_blks_dirtied bigint, OUT local_blks_written bigint, OUT temp_blks_read bigint, OUT temp_blks_written bigint, OUT blk_read_time double precision, OUT blk_write_time double precision, OUT temp_blk_read_time double precision, OUT temp_blk_write_time double precision, OUT wal_records bigint, OUT wal_fpi bigint, OUT wal_bytes numeric, OUT jit_functions bigint, OUT jit_generation_time double precision, OUT jit_inlining_count bigint, OUT jit_inlining_time double precision, OUT jit_optimization_count bigint, OUT jit_optimization_time double precision, OUT jit_emission_count bigint, OUT jit_emission_time double precision|record|
public|pg_stat_statements_info|OUT dealloc bigint, OUT stats_reset timestamp with time zone|record|
public|pg_stat_statements_reset|userid oid DEFAULT 0, dbid oid DEFAULT 0, queryid bigint DEFAULT 0|void|
public|safe_upsert_measurement|p_station_id bigint, p_device_id bigint, p_metric_id bigint, p_ts_raw timestamp with time zone, p_value numeric, p_source_hint text|boolean|安全的UPSERT函数，避免并发冲突
public|smart_vacuum_strategy||text|智能VACUUM策略，根据死元组比例自动调整
reporting|get_metrics_auto|p_station_id bigint, p_start_ts timestamp with time zone, p_end_ts timestamp with time zone, p_metric_ids bigint[] DEFAULT NULL::bigint[], p_threshold_days integer DEFAULT 3|record|
reporting|get_metrics_auto_multi|p_station_ids bigint[], p_start_ts timestamp with time zone, p_end_ts timestamp with time zone, p_device_ids bigint[] DEFAULT NULL::bigint[], p_metric_ids bigint[] DEFAULT NULL::bigint[], p_threshold_days integer DEFAULT 3|record|
reporting|get_metrics_daily|p_station_id bigint, p_start_date date, p_end_date date, p_metric_ids bigint[] DEFAULT NULL::bigint[]|record|
reporting|get_metrics_daily_multi|p_station_ids bigint[], p_start_date date, p_end_date date, p_device_ids bigint[] DEFAULT NULL::bigint[], p_metric_ids bigint[] DEFAULT NULL::bigint[]|record|
reporting|get_metrics_hourly|p_station_id bigint, p_start_ts timestamp with time zone, p_end_ts timestamp with time zone, p_metric_ids bigint[] DEFAULT NULL::bigint[]|record|
reporting|get_metrics_hourly_multi|p_station_ids bigint[], p_start_ts timestamp with time zone, p_end_ts timestamp with time zone, p_device_ids bigint[] DEFAULT NULL::bigint[], p_metric_ids bigint[] DEFAULT NULL::bigint[]|record|
reporting|refresh_mv_measurements|p_days integer DEFAULT 2|void|
