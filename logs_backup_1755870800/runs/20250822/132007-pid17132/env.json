{
  "args_summary": {
    "command": "run-all",
    "mapping": "config/data_mapping.v2.json",
    "window_start": "2025-02-27T18:00:00+00:00",
    "window_end": "2025-02-27T19:59:59+00:00",
    "process_all_data": false
  },
  "config_snapshot": {
    "db": {
      "host": "localhost",
      "name": "pump_station_optimization",
      "user": "postgres",
      "dsn_read": null,
      "dsn_write": null,
      "pool": {
        "min_size": 1,
        "max_size": 10,
        "max_inactive_connection_lifetime": 3600
      },
      "timeouts": {
        "connect_timeout_ms": 5000,
        "statement_timeout_ms": 30000,
        "query_timeout_ms": 60000
      },
      "retry": {
        "max_retries": 3,
        "retry_delay_ms": 1000,
        "backoff_multiplier": 2.0
      }
    },
    "ingest": {
      "base_dir": "data",
      "workers": 6,
      "commit_interval": 1000000,
      "p95_window": 20,
      "enhanced_source_hint": true,
      "batch_id_mode": "run_id",
      "site_timezone": "Asia/Shanghai",
      "csv": {
        "delimiter": ",",
        "encoding": "utf-8",
        "quote_char": "\"",
        "escape_char": "\\",
        "allow_bom": true
      },
      "batch": {
        "size": 50000,
        "max_memory_mb": 256,
        "parallel_batches": 2
      },
      "error_handling": {
        "max_errors_per_file": 100,
        "error_threshold_percent": 5.0,
        "continue_on_error": true
      },
      "performance": {
        "read_buffer_size": 65536,
        "write_buffer_size": 65536,
        "connection_pool_size": 5
      },
      "backpressure": {
        "thresholds": {
          "p95_ms": 2000,
          "fail_rate": 0.01,
          "min_batch": 1000,
          "min_workers": 1
        }
      },
      "default_paths": {
        "mapping_file": "config/data_mapping.v2.json",
        "dim_metric_config": "config/dim_metric_config.json"
      },
      "default_window": {
        "process_all_data": true,
        "start_utc": "2025-02-27T18:00:00Z",
        "end_utc": "2025-02-27T19:59:59Z"
      }
    },
    "merge": {
      "window": {
        "size": "7d",
        "start": null,
        "end": null
      },
      "tz": {
        "default_station_tz": "Asia/Shanghai",
        "allow_missing_tz": true,
        "missing_tz_policy": "default"
      },
      "segmented": {
        "enabled": true,
        "granularity": "1h"
      }
    },
    "logging": {
      "level": "DEBUG",
      "format": "json",
      "routing": "by_run",
      "queue_handler": true,
      "sql": {
        "text": "full",
        "explain": "on_error",
        "top_n_slow": 5
      },
      "sampling": {
        "loop_log_every_n": 1000,
        "min_interval_sec": 1.0,
        "default_rate": 1.0,
        "high_frequency_events": [
          {
            "ingest.copy.batch": 0.1
          }
        ],
        "burst_limit": 100
      },
      "rotation": {
        "max_bytes": 104857600,
        "backup_count": 7,
        "rotation_interval": 86400
      },
      "formatting": {
        "timestamp_format": "%Y-%m-%d %H:%M:%S.%f",
        "max_message_length": 8192,
        "field_order": [
          "timestamp",
          "level",
          "message",
          "extra"
        ]
      },
      "performance": {
        "buffer_size": 8192,
        "flush_interval": 1.0,
        "async_handler_queue_size": 1000
      },
      "redaction_enable": false,
      "retention_days": 14,
      "startup_cleanup": {
        "clear_logs": true,
        "clear_database": true,
        "logs_backup_count": 3,
        "confirm_clear": false
      },
      "detailed_logging": {
        "enable_function_entry": true,
        "enable_function_exit": true,
        "enable_parameter_logging": true,
        "enable_context_logging": true,
        "enable_business_logging": true,
        "enable_progress_logging": true,
        "enable_performance_logging": true,
        "enable_error_details": true,
        "enable_internal_steps": true,
        "enable_condition_branches": true,
        "enable_loop_iterations": true,
        "enable_intermediate_results": true,
        "enable_data_validation": true,
        "enable_resource_usage": true,
        "enable_timing_details": true,
        "internal_steps_interval": 10,
        "loop_log_interval": 100
      },
      "key_metrics": {
        "enable_file_count": true,
        "enable_data_time_range": true,
        "enable_processing_progress": true,
        "enable_merge_statistics": true,
        "enable_performance_metrics": true,
        "enable_memory_usage": true,
        "enable_database_stats": true,
        "enable_file_size_info": true,
        "enable_throughput_metrics": true,
        "enable_error_statistics": true,
        "enable_quality_metrics": true,
        "enable_pipeline_stages": true,
        "enable_batch_statistics": true,
        "enable_resource_consumption": true,
        "enable_data_distribution": true,
        "progress_report_interval": 1000,
        "metrics_summary_interval": 300
      },
      "sql_execution": {
        "enable_statement_logging": true,
        "enable_execution_metrics": true,
        "enable_parameter_logging": true,
        "enable_result_summary": true,
        "enable_slow_query_detection": true,
        "slow_query_threshold_ms": 1000,
        "max_sql_length": 2000,
        "sensitive_fields": [
          "password",
          "token",
          "secret",
          "key"
        ]
      },
      "internal_execution": {
        "enable_step_logging": true,
        "enable_checkpoint_logging": true,
        "enable_branch_logging": true,
        "enable_iteration_logging": true,
        "enable_validation_logging": true,
        "enable_transformation_logging": true,
        "step_detail_level": "medium",
        "iteration_log_frequency": 100,
        "checkpoint_auto_interval": 30
      }
    }
  },
  "sources": {
    "db": {
      "host": "YAML",
      "name": "YAML",
      "user": "YAML",
      "dsn_read": "YAML",
      "dsn_write": "YAML"
    },
    "ingest": {
      "base_dir": "DEFAULT",
      "workers": "YAML",
      "commit_interval": "YAML",
      "p95_window": "YAML",
      "enhanced_source_hint": "DEFAULT",
      "batch_id_mode": "DEFAULT"
    },
    "merge": {
      "window.size": "DEFAULT",
      "window.start": "DEFAULT",
      "window.end": "DEFAULT",
      "tz.default_station_tz": "DEFAULT",
      "tz.allow_missing_tz": "DEFAULT",
      "tz.missing_tz_policy": "DEFAULT"
    },
    "logging": {
      "level": "YAML",
      "format": "YAML",
      "routing": "YAML",
      "queue_handler": "YAML",
      "sql.text": "DEFAULT",
      "sql.explain": "DEFAULT",
      "sampling.loop_log_every_n": "YAML",
      "redaction_enable": "YAML",
      "retention_days": "YAML"
    }
  },
  "ts": "2025-08-22T13:20:30Z",
  "run_id": "20250822T212030Z",
  "run_dir": "logs\\runs\\20250822\\132007-pid17132"
}