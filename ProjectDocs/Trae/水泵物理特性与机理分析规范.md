# 水泵物理特性与机理分析规范

## 🔧 如何使用本规范
- 物理建模：使用第2章欧拉方程和相似定律作为曲线拟合约束
- 工程应用：第7章实际应用示例提供可复制的代码模板
- 参数验证：第4-6章的理论约束检验拟合结果是否符合物理定律
- 故障诊断：结合第8章振动分析方法，从物理机理角度诊断故障

---

## 1. 概述

本文档定义水泵物理特性、机理分析和相似定律在特性曲线拟合中的应用，为水泵性能分析提供理论基础。

## 2. 水泵基本物理特性

### 2.1 流体力学基础

#### 2.1.1 欧拉方程

**理论扬程公式：**
```
H_th = (u₂c₂ᵤ - u₁c₁ᵤ) / g
```

**参数说明：**
- `H_th`：理论扬程 (m)
- `u₁, u₂`：叶轮进出口圆周速度 (m/s)
- `c₁ᵤ, c₂ᵤ`：进出口绝对速度的圆周分量 (m/s)
- `g`：重力加速度 (9.81 m/s²)

**实际扬程修正：**
```
H = H_th × η_h
```
其中 `η_h` 为水力效率 (0.75-0.90)

#### 2.1.2 叶轮基本方程

**速度三角形关系：**
```
c² = u² + w² - 2uw cos β
```

**参数说明：**
- `c`：绝对速度 (m/s)
- `u`：圆周速度 (m/s)
- `w`：相对速度 (m/s)
- `β`：叶片角度 (°)

### 2.2 无量纲特性系数

#### 2.2.1 流量系数
```
φ = Q / (n × D³)
```

#### 2.2.2 扬程系数
```
ψ = g × H / (n² × D²)
```

#### 2.2.3 功率系数
```
π = P / (ρ × n³ × D⁵)
```

**参数说明：**
- `Q`：流量 (m³/s)
- `H`：扬程 (m)
- `P`：功率 (W)
- `n`：转速 (r/s)
- `D`：叶轮直径 (m)
- `ρ`：流体密度 (kg/m³)

## 3. 相似定律

### 3.1 几何相似

**相似条件：**
- 叶轮几何形状相似
- 流道几何形状相似
- 表面粗糙度相似

### 3.2 运动相似

**相似定律公式：**

#### 3.2.1 流量相似
```
Q₁/Q₂ = (n₁/n₂) × (D₁/D₂)³
```

#### 3.2.2 扬程相似
```
H₁/H₂ = (n₁/n₂)² × (D₁/D₂)²
```

#### 3.2.3 功率相似
```
P₁/P₂ = (ρ₁/ρ₂) × (n₁/n₂)³ × (D₁/D₂)⁵
```

### 3.3 变频调速相似定律

**同一台泵不同转速：**
```
Q/Q₀ = n/n₀
H/H₀ = (n/n₀)²
P/P₀ = (n/n₀)³
```

**参数说明：**
- 下标0表示额定工况
- `n`：实际转速
- `n₀`：额定转速

## 4. 比转速理论

### 4.1 比转速定义

**比转速公式：**
```
ns = n × √Q / H^(3/4)
```

**参数说明：**
- `ns`：比转速
- `n`：转速 (r/min)
- `Q`：流量 (m³/s)
- `H`：扬程 (m)

### 4.2 比转速分类

**泵型分类：**
- **离心泵**：ns = 30-150
- **混流泵**：ns = 150-500
- **轴流泵**：ns = 500-1500

### 4.3 比转速与效率关系

**最高效率预测：**
```
η_max = 1 - 0.055 / ns^0.15
```

## 5. 物理拟合方法

### 5.1 欧拉方程拟合法

**适用范围：**
- 离心泵理论扬程计算
- 叶轮设计参数反求
- 内部流动分析

**拟合模型：**
```
H = A × u₂² / g - B × Q²
```

**参数估计：**
- `A`：叶轮效率系数
- `B`：流动损失系数

### 5.2 相似定律拟合法

**适用范围：**
- 变频泵特性预测
- 不同转速工况分析
- 泵型系列化设计

**拟合模型：**
```
H(n,Q) = H₀ × (n/n₀)² × f(Q × n₀/n)
```

**其中 f(Q) 为无量纲特性函数**

### 5.3 比转速拟合法

**适用范围：**
- 泵型选择优化
- 效率预测
- 设计点确定

**拟合模型：**
```
η = f(ns, Q/Q_opt)
```

**其中 Q_opt 为最优流量点**

## 6. 机理分析方法

### 6.1 内部流动分析

#### 6.1.1 叶轮内流动
- 进口冲击损失
- 摩擦损失
- 涡流损失
- 泄漏损失

#### 6.1.2 蜗壳流动
- 扩散损失
- 二次流损失
- 出口动能损失

### 6.2 损失机理分析

#### 6.2.1 水力损失
```
ΔH_h = k_h × Q²
```

#### 6.2.2 容积损失
```
ΔQ_v = k_v × √H
```

#### 6.2.3 机械损失
```
ΔP_m = k_m × n²
```

### 6.3 效率分解

**总效率：**
```
η = η_h × η_v × η_m
```

**参数说明：**
- `η_h`：水力效率
- `η_v`：容积效率
- `η_m`：机械效率

## 7. 工程应用

### 7.1 特性曲线拟合

**物理约束拟合：**
```python
import numpy as np

def physics_constrained_fitting(Q, H, n, D):
    """
    基于物理约束的特性曲线拟合
    
    Args:
        Q: 流量数据
        H: 扬程数据
        n: 转速数据
        D: 叶轮直径
        
    Returns:
        拟合参数和物理系数
    """
    # 无量纲化
    phi = Q / (n * D**3)
    psi = 9.81 * H / (n**2 * D**2)
    
    # 物理模型拟合
    # psi = a - b * phi**2
    coeffs = np.polyfit(phi**2, psi, 1)
    
    return {
        'a': coeffs[1],  # 理论扬程系数
        'b': -coeffs[0], # 损失系数
        'physics_r2': calculate_r2(psi, np.polyval(coeffs, phi**2))
    }
```

### 7.2 变频泵优化

**相似定律优化：**
```python
def frequency_optimization(target_flow, pump_curve, rated_params):
    """
    基于相似定律的变频优化
    
    Args:
        target_flow: 目标流量
        pump_curve: 泵特性曲线
        rated_params: 额定参数
        
    Returns:
        最优频率和效率
    """
    # 相似定律计算
    freq_ratio = target_flow / rated_params['flow']
    optimal_freq = rated_params['frequency'] * freq_ratio
    
    # 效率修正
    efficiency = pump_curve.efficiency(target_flow) * \
                (1 - 0.05 * abs(freq_ratio - 1))
    
    return {
        'frequency': optimal_freq,
        'efficiency': efficiency,
        'power': calculate_power(target_flow, pump_curve, freq_ratio)
    }
```

### 7.3 故障诊断

**物理参数监控：**
```python
def physics_based_diagnosis(current_data, baseline_params):
    """
    基于物理参数的故障诊断
    
    Args:
        current_data: 当前运行数据
        baseline_params: 基准物理参数
        
    Returns:
        诊断结果
    """
    # 比转速偏差
    ns_current = calculate_specific_speed(current_data)
    ns_deviation = abs(ns_current - baseline_params['ns']) / baseline_params['ns']
    
    # 效率偏差
    eff_deviation = abs(current_data['efficiency'] - 
                       baseline_params['efficiency']) / baseline_params['efficiency']
    
    # 诊断判断
    if ns_deviation > 0.1:
        return {'status': '叶轮磨损', 'severity': 'high'}
    elif eff_deviation > 0.05:
        return {'status': '性能下降', 'severity': 'medium'}
    else:
        return {'status': '正常', 'severity': 'low'}
```

## 8. 质量控制

### 8.1 物理合理性检查

**检查项目：**
- 相似定律偏差 < 5%
- 比转速范围合理性
- 效率物理上限检查
- 功率平衡验证

### 8.2 模型验证

**验证方法：**
- 与厂家试验数据对比
- 物理参数一致性检查
- 预测精度评估
- 外推合理性验证

---

*本规范为水泵特性曲线拟合提供物理理论基础，确保拟合结果符合流体力学原理和工程实际。*