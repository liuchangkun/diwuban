---
alwaysApply: true
description: 性能优化流程（含 SLO，对齐 23-performance-slo）
---
# 性能优化流程

> 目标与 SLO 定义请参见 [.cursor/rules/23-performance-slo.mdc](mdc:.cursor/rules/23-performance-slo.mdc)。本文件聚焦优化方法与发布流程。

## 基线与目标（摘要）
- 指标：吞吐（行/秒）、P95 延迟、失败率、资源水位（CPU/IO/锁）。

## 分析方法
- SQL EXPLAIN/PROFILE、批次耗时埋点、慢查询与锁等待、JSON 合并成本画像。

## 优化序列
1) 参数/并发/批量/提交频次
2) 索引与 SQL 改写（禁止逐行）
3) 结构微调（不改既有表结构前提）

## 验证与发布
- A/B 或前后对比；一致性/幂等回归；容量评估与门禁。
- 分阶段放量；出现回退指标立即回滚。