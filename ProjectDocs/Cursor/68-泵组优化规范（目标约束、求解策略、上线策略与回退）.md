---
description: 泵组优化规范（目标/约束、求解策略、上线策略与回退）
---
# 泵组优化规范

## 目标与约束
### 优化目标（详细）
- 主要目标：
  - 能效最优：最小化总能耗（kWh/日）、提升系统效率；
  - 成本最小：分时电价优化、需量电费控制、启停折旧成本；
  - 供水稳定：压力波动最小化、供水连续性保障、服务质量。
- 多目标组合：
  - 能耗 vs 启停次数 vs 压力稳定性（Pareto前沿）；
  - 短期运行成本 vs 长期设备寿命；
  - 系统效率 vs 冗余备份能力；
  - 响应速度 vs 能耗优化。

### 约束条件（详细）
- 设备约束：
  - 启停次数限制（每小时/每日上限）；
  - 频率范围（n_min ≤ n ≤ n_max）；
  - 功率限制（P ≤ P_rated）；
  - 转矩限制（T ≤ T_rated）；
  - 最小开停间隔、保持时间。
- 工艺约束：
  - 供水压力（H_min ≤ H ≤ H_max）；
  - 流量需求（Q ≥ Q_demand）；
  - NPSH余量（NPSH_a - NPSH_r ≥ margin）；
  - 水质要求、温度限制。
- 经济约束：
  - 电费预算限制；
  - 维护成本控制；
  - 人工成本考虑。
- 可靠性约束：
  - N+1备份（任一台故障仍满足需求）；
  - 故障容错能力；
  - 系统冗余度要求。
- 操作约束：
  - 切换速率限制（|dn/dt| ≤ r_max）；
  - 并发启停限制；
  - 人工干预窗口。

## 求解策略（详细）
### 策略分层
- 离线策略生成：
  - 基于历史数据生成多种工况策略库；
  - Pareto前沿预计算（能耗-启停-稳定性）；
  - 情景分析与鲁棒策略设计。
- 在线实时调度：
  - 滚动优化（MPC，预测窗口N_p，控制窗口N_c）；
  - 规则+启发式（优先简洁可解释）；
  - 必要时MILP/混合整数/动态规划精确求解。
- 应急响应：
  - 故障快速重构（N-1模式）；
  - 保守策略回退；
  - 人工干预接管。

### 输入与预测
- 负荷预测：支持来自64规范的ML模型预测；
- 系统状态：当前泵运行状态、压力、流量、电价；
- 约束更新：维护计划、设备状态、操作限制；
- 外部条件：天气、用水规律、节假日模式。

### 求解方法选择
- 小规模（≤5台泵）：精确算法（分支定界/DP）；
- 中等规模（6-20台）：启发式+局部优化；
- 大规模（>20台）：元启发式（GA/PSO）或分解法；
- 实时要求高：贪心+规则或强化学习；
- 多目标需求：NSGA-II/III生成Pareto解集。

## 上线策略（详细）
### 评估与验证
- 离线仿真评估：
  - 历史数据回放测试；
  - 多种工况场景验证；
  - 与基线策略对比分析；
  - 极端情况压力测试。
- 评估指标：
  - 能耗指标：kWh/日、效率提升百分比；
  - 稳定性：压力波动（P95-P5）、供水中断次数；
  - 设备保护：启停次数、运行时间均衡度；
  - 经济性：电费节省、维护成本变化。

### 灰度部署
- 小流量灰度：
  - 选择低风险时段（夜间/低峰）；
  - 限制影响范围（单个泵站/部分设备）；
  - 实时监控关键指标；
  - 设置自动回退触发条件。
- 分阶段放量：
  - 阶段1：单站点，低负荷时段；
  - 阶段2：多站点，正常负荷；
  - 阶段3：全网，高峰负荷；
  - 每阶段评估通过后进入下一阶段。

### 监控与回退
- 实时监控：
  - KPI仪表板：能耗、压力、启停次数；
  - 异常告警：超出阈值自动报警；
  - 性能对比：与基线策略实时对比；
- 自动回退条件：
  - 供水压力低于安全线；
  - 设备故障率异常升高；
  - 能耗超出预期范围；
  - 连续多次优化失败。

## 版本与审计（详细）
### 版本管理
- 策略版本化：语义化版本号（major.minor.patch）；
- 配置管理：参数配置、权重设置版本化；
- 回滚能力：保留前N个版本，支持快速回退；
- 变更记录：每次上线记录变更内容与原因。

### 审计跟踪
- 输入记录：决策输入参数、系统状态、外部条件；
- 输出记录：优化结果、执行指令、性能指标；
- 过程记录：算法执行过程、计算时间、收敛状态；
- 异常记录：失败案例、异常处理、人工干预。

### 可重放复盘
- 决策重放：基于历史输入重现决策过程；
- 对比分析：不同策略版本效果对比；
- 根因分析：性能异常的深度分析；
- 持续改进：基于复盘结果优化策略。

## 优化方法与算法（扩展）
- 精确算法：
  - 分支定界（Branch-and-Bound）+ 割平面；
  - 动态规划（DP）+ 状态压缩；
  - 列生成（Column Generation）大规模问题；
  - Benders分解（主从问题分离）。
- 启发式算法：
  - 贪心算法（按效率/成本排序）；
  - 局部搜索（2-opt/3-opt邻域）；
  - 变邻域搜索（VNS）；
  - 禁忌搜索（Tabu Search）。
- 元启发式：
  - 遗传算法（GA）+ 多目标NSGA-II/III；
  - 粒子群优化（PSO）+ 惯性权重自适应；
  - 模拟退火（SA）+ 冷却策略；
  - 蚁群算法（ACO）+ 信息素更新。
- 机器学习优化：
  - 强化学习（DQN/PPO/A3C）在线策略；
  - 模仿学习（Imitation Learning）专家演示；
  - 深度强化学习（Deep RL）+ 经验回放；
  - 多智能体强化学习（MARL）分布式协作。
- 混合智能：
  - 神经进化（Neuroevolution）网络结构优化；
  - 差分进化（DE）+ 神经网络参数调优；
  - 遗传规划（GP）策略规则进化；
  - 人工免疫算法（AIA）多样性保持。
- 现代优化：
  - 凸优化（CVX）+ 内点法；
  - 半定规划（SDP）+ 椭球法；
  - 锥优化（SOCP）+ 原对偶内点法；
  - 分布鲁棒优化（DRO）+ Wasserstein距离。
- 分解方法：
  - Lagrange对偶分解 + 次梯度法；
  - ADMM（交替方向乘子法）分布式；
  - 价格协调（Price Coordination）；
  - 分层优化（Hierarchical）上下层解耦。
- 不确定性处理：
  - 随机规划（Stochastic Programming）；
  - 鲁棒优化（Robust Optimization）worst-case；
  - 机会约束（Chance Constraints）；
  - 情景分析（Scenario Analysis）。
- 多目标优化：
  - 加权法（Weighted Sum）+ 权重敏感性；
  - ε-约束法（ε-Constraint Method）；
  - 目标规划（Goal Programming）；
  - Pareto前沿近似算法。
- 在线/自适应：
  - 在线凸优化（OCO）+ 遗憾界；
  - 自适应算法（Adaptive）参数调节；
  - 滚动优化（Receding Horizon）；
  - 反馈控制优化（Feedback Optimization）。

## 选型指南
- 小规模精确：分支定界/动态规划；
- 中等规模快速：贪心+局部搜索；
- 大规模复杂：遗传算法/粒子群；
- 实时在线：强化学习/滚动优化；
- 多目标：NSGA-II/III + Pareto分析；
- 高不确定：鲁棒优化/随机规划；
- 分布式：ADMM/价格协调。